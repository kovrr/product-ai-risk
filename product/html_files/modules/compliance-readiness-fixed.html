<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compliance Readiness - Kovrr</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: rgb(85, 81, 247);
            --primary-blue-light: rgb(97, 94, 251);
            --success-green: rgb(13, 199, 131);
            --warning-orange: rgb(255, 153, 0);
            --error-red: rgb(255, 35, 35);
            --bg-white: rgb(255, 255, 255);
            --bg-light: rgb(245, 247, 255);
            --bg-blue: rgb(236, 242, 252);
            --bg-gray: rgb(237, 242, 247);
            --text-dark: rgb(26, 32, 44);
            --text-medium-dark: rgb(48, 48, 69);
            --text-medium: rgb(74, 85, 104);
            --text-light: rgb(113, 118, 126);
            --divider: rgb(220, 229, 242);
            --border-gray: rgb(169, 180, 188);
            --shadow-sm: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
            --shadow-md: rgba(0, 0, 0, 0.1) 0px 4px 20px 0px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Source Sans Pro", Helvetica, Arial, sans-serif;
            font-size: 14px;
            color: var(--text-medium-dark);
            background-color: var(--bg-light);
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        .header {
            background-color: rgb(255, 255, 255);
            border-bottom: 1px solid rgb(220, 229, 242);
            padding: 16px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            color: rgb(26, 32, 44);
        }

        .nav-tabs {
            display: flex;
            border-bottom: 1px solid rgb(220, 229, 242);
            background-color: rgb(255, 255, 255);
            padding: 0 30px;
        }

        .nav-tab {
            flex: 1;
            padding: 16px 24px;
            text-align: center;
            font-size: 15px;
            font-weight: 500;
            color: rgb(113, 118, 126);
            cursor: pointer;
            border: none;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            background: transparent;
        }

        .nav-tab:hover {
            background-color: rgb(245, 247, 255);
        }

        .nav-tab.active {
            font-weight: 600;
            color: rgb(85, 81, 247);
            border-bottom-color: rgb(85, 81, 247);
            background-color: rgb(255, 255, 255);
        }

        .main-content {
            flex: 1;
            padding: 30px;
        }

        .page-header {
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 38px;
            font-weight: 700;
            color: rgb(26, 32, 44);
        }

        .btn {
            font-family: "Source Sans Pro", Helvetica, Arial, sans-serif;
            font-size: 14px;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
        }

        .btn-primary {
            background-color: rgb(85, 81, 247);
            color: rgb(255, 255, 255);
        }

        .btn-primary:hover {
            background-color: rgb(97, 94, 251);
        }

        .btn-secondary {
            background-color: rgb(255, 255, 255);
            color: rgb(74, 85, 104);
            border: 1px solid rgb(169, 180, 188);
            font-weight: 500;
        }

        .btn-secondary:hover {
            background-color: rgb(237, 242, 247);
        }

        .card {
            background-color: rgb(255, 255, 255);
            border-radius: 15px;
            padding: 20px;
            box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
            margin-bottom: 20px;
        }

        .table-container {
            background-color: rgb(255, 255, 255);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background-color: rgb(237, 242, 247);
        }

        th {
            font-size: 12px;
            font-weight: 700;
            color: rgb(74, 85, 104);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-align: left;
            padding: 12px 16px;
        }

        td {
            font-size: 14px;
            color: rgb(48, 48, 69);
            padding: 16px;
            border-bottom: 1px solid rgb(220, 229, 242);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tbody tr:hover {
            background-color: rgb(236, 242, 252);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(30, 30, 30, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-overlay.hidden {
            display: none;
        }

        .modal {
            background-color: rgb(255, 255, 255);
            border-radius: 16px;
            padding: 30px;
            max-width: 700px;
            width: 90%;
            box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 20px 0px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            font-size: 22px;
            font-weight: 700;
            color: rgb(26, 32, 44);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-subtitle {
            font-size: 14px;
            color: rgb(74, 85, 104);
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            font-size: 12px;
            font-weight: 600;
            color: rgb(74, 85, 104);
            margin-bottom: 6px;
            display: block;
        }

        .form-input,
        .form-select {
            font-family: "Source Sans Pro", Helvetica, Arial, sans-serif;
            font-size: 14px;
            color: rgb(48, 48, 69);
            background: rgb(255, 255, 255);
            border: 1px solid rgb(169, 180, 188);
            border-radius: 6px;
            padding: 10px 12px;
            width: 100%;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: rgb(85, 81, 247);
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%23303045' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 40px;
        }

        .option-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .option-card {
            border: 2px solid rgb(169, 180, 188);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-card:hover {
            border-color: rgb(85, 81, 247);
            background-color: rgb(245, 247, 255);
        }

        .option-card.selected {
            border-color: rgb(85, 81, 247);
            background-color: rgb(236, 242, 252);
        }

        .option-card-title {
            font-size: 16px;
            font-weight: 600;
            color: rgb(26, 32, 44);
            margin-bottom: 8px;
        }

        .option-card-description {
            font-size: 12px;
            color: rgb(74, 85, 104);
            line-height: 1.5;
        }

        .info-box {
            background-color: rgb(236, 242, 252);
            border-left: 4px solid rgb(21, 77, 171);
            padding: 12px;
            border-radius: 6px;
            margin-top: 16px;
        }

        .info-box-text {
            font-size: 13px;
            color: rgb(48, 48, 69);
            line-height: 1.5;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-success {
            background-color: rgba(13, 199, 131, 0.1);
            color: rgb(13, 199, 131);
        }

        .badge-warning {
            background-color: rgba(255, 153, 0, 0.1);
            color: rgb(255, 153, 0);
        }

        .badge-error {
            background-color: rgba(255, 35, 35, 0.1);
            color: rgb(255, 35, 35);
        }

        .score-gauge {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .score-value {
            font-size: 20px;
            font-weight: 700;
            color: rgb(26, 32, 44);
        }

        .score-bar {
            flex: 1;
            height: 8px;
            background-color: rgb(237, 242, 247);
            border-radius: 4px;
            overflow: hidden;
        }

        .score-bar-fill {
            height: 100%;
            background-color: rgb(255, 153, 0);
            border-radius: 4px;
            transition: width 0.3s;
        }

        .sidebar {
            width: 280px;
            background-color: rgb(255, 255, 255);
            border-right: 1px solid rgb(220, 229, 242);
            padding: 20px;
            overflow-y: auto;
            max-height: 100vh;
        }

        .sidebar-section {
            margin-bottom: 24px;
        }

        .sidebar-title {
            font-size: 12px;
            font-weight: 700;
            color: rgb(74, 85, 104);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .sidebar-item {
            font-size: 14px;
            color: rgb(74, 85, 104);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-item:hover {
            background-color: rgb(245, 247, 255);
        }

        .sidebar-item.clickable-question {
            cursor: pointer;
            transition: all 0.2s;
        }

        .sidebar-item.clickable-question:hover {
            background-color: rgb(236, 242, 252);
            padding-left: 40px;
        }

        .sidebar-item.active {
            background-color: rgb(236, 242, 252);
            color: rgb(85, 81, 247);
            font-weight: 600;
        }

        .question-container {
            background-color: rgb(255, 255, 255);
            border-radius: 15px;
            padding: 24px;
            box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
            margin-bottom: 24px;
        }

        .question-header {
            font-size: 20px;
            font-weight: 600;
            color: rgb(26, 32, 44);
            margin-bottom: 12px;
        }

        .question-description {
            font-size: 14px;
            color: rgb(74, 85, 104);
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .answer-section {
            margin-bottom: 24px;
        }

        .answer-section-title {
            font-size: 14px;
            font-weight: 600;
            color: rgb(48, 48, 69);
            margin-bottom: 12px;
        }

        .rating-scale {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .rating-option {
            width: 40px;
            height: 40px;
            border: 2px solid rgb(169, 180, 188);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            color: rgb(48, 48, 69);
            cursor: pointer;
            transition: all 0.2s;
        }

        .rating-option:hover {
            border-color: rgb(85, 81, 247);
            background-color: rgb(245, 247, 255);
        }

        .rating-option.selected {
            border-color: rgb(85, 81, 247);
            background-color: rgb(85, 81, 247);
            color: rgb(255, 255, 255);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .stat-card {
            background-color: rgb(255, 255, 255);
            border-radius: 15px;
            padding: 24px;
            box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
        }

        .stat-card-title {
            font-size: 14px;
            font-weight: 600;
            color: rgb(74, 85, 104);
            margin-bottom: 16px;
        }

        .stat-card-value {
            font-size: 38px;
            font-weight: 700;
            color: rgb(26, 32, 44);
        }

        .heatmap {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
        }

        .heatmap-cell {
            aspect-ratio: 1;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            color: rgb(255, 255, 255);
            padding: 8px;
        }

        .heatmap-cell-label {
            font-size: 10px;
            margin-bottom: 4px;
        }

        .heatmap-cell-score {
            font-size: 14px;
            font-weight: 700;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        .page-view {
            display: none;
        }

        .page-view.active {
            display: block;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: rgb(48, 48, 69);
            cursor: pointer;
            margin-top: 12px;
        }

        .checkbox-input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .notes-section {
            margin-top: 16px;
        }

        .textarea {
            font-family: "Source Sans Pro", Helvetica, Arial, sans-serif;
            font-size: 14px;
            color: rgb(48, 48, 69);
            background: rgb(255, 255, 255);
            border: 1px solid rgb(169, 180, 188);
            border-radius: 6px;
            padding: 10px 12px;
            width: 100%;
            min-height: 80px;
            resize: vertical;
        }

        .gap-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: rgb(13, 199, 131);
            font-size: 14px;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: rgb(237, 242, 247);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-bar-fill {
            height: 100%;
            background-color: rgb(255, 153, 0);
            border-radius: 3px;
            transition: width 0.3s;
        }

        .circle-progress {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(rgb(85, 81, 247) 0deg, rgb(237, 242, 247) 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .circle-progress-inner {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: rgb(255, 255, 255);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            color: rgb(26, 32, 44);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Main Content Area -->
        <div style="flex: 1; display: flex; flex-direction: column;">
            <!-- Page: Assessment List -->
            <div id="assessmentList" class="page-view active">
                <div class="main-content">
                    <div class="page-header">
                        <h1 class="page-title">Compliance Readiness</h1>
                        <button class="btn btn-primary" onclick="showModal('newAssessmentModal')">Start New Assessment</button>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Created On</th>
                                    <th>Assessment Score</th>
                                    <th>Framework</th>
                                    <th>Granularity</th>
                                    <th>Answer Structure</th>
                                    <th>Completion Status</th>
                                    <th>Resume/Results</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr onclick="showPage('resultsPage')">
                                    <td style="font-weight: 600;">NIST AI RMF</td>
                                    <td>19 Oct 2025</td>
                                    <td>
                                        <div class="score-gauge">
                                            <span class="score-value">1.68</span>
                                            <div class="score-bar">
                                                <div class="score-bar-fill" style="width: 42%;"></div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>NIST AI RMF</td>
                                    <td>Category</td>
                                    <td>Single Score</td>
                                    <td><span class="badge badge-success">✓ Completed</span></td>
                                    <td><button class="btn btn-secondary">FULL RESULTS</button></td>
                                    <td>
                                        <button style="background: none; border: none; cursor: pointer; color: rgb(74, 85, 104);">⋮</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="font-weight: 600;">EU AI Act</td>
                                    <td>15 Oct 2025</td>
                                    <td>
                                        <div class="score-gauge">
                                            <span style="font-size: 14px; color: rgb(74, 85, 104);">Not Available</span>
                                        </div>
                                    </td>
                                    <td>EU AI ACT</td>
                                    <td><span style="font-size: 14px; color: rgb(74, 85, 104);">Not Available</span></td>
                                    <td><span style="font-size: 14px; color: rgb(74, 85, 104);">Not Available</span></td>
                                    <td><span class="badge badge-warning">⚠ In Progress</span></td>
                                    <td><button class="btn btn-secondary" disabled style="opacity: 0.5; cursor: not-allowed;">NOT AVAILABLE</button></td>
                                    <td>
                                        <button style="background: none; border: none; cursor: pointer; color: rgb(74, 85, 104);">⋮</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="font-weight: 600;">ISO/IEC 42001:2023</td>
                                    <td>12 Oct 2025</td>
                                    <td>
                                        <div class="score-gauge">
                                            <span style="font-size: 14px; color: rgb(74, 85, 104);">Not Available</span>
                                        </div>
                                    </td>
                                    <td>ISO/IEC 42001:2023</td>
                                    <td><span style="font-size: 14px; color: rgb(74, 85, 104);">Not Available</span></td>
                                    <td><span style="font-size: 14px; color: rgb(74, 85, 104);">Not Available</span></td>
                                    <td><span class="badge badge-warning">⚠ In Progress</span></td>
                                    <td><button class="btn btn-secondary" disabled style="opacity: 0.5; cursor: not-allowed;">NOT AVAILABLE</button></td>
                                    <td>
                                        <button style="background: none; border: none; cursor: pointer; color: rgb(74, 85, 104);">⋮</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="margin-top: 16px; font-size: 12px; color: rgb(74, 85, 104);">
                        Results: 1 - 3 of 3
                    </div>
                </div>
            </div>

            <!-- Page: Results Dashboard -->
            <div id="resultsPage" class="page-view">
                <div class="main-content">
                    <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('assessmentList')">← Back</button>
                        <div>
                            <h1 class="page-title">Control Assessment Results</h1>
                            <p style="font-size: 14px; color: rgb(74, 85, 104);">Assessed On: 03 Nov 2025</p>
                        </div>
                        <button class="btn btn-primary" style="margin-left: auto;">Go to Questionnaire</button>
                    </div>

                    <div style="background-color: rgb(255, 255, 255); border-radius: 15px; padding: 16px; margin-bottom: 16px; display: flex; gap: 16px; align-items: center; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;">
                        <div style="flex: 1;">
                            <strong>Framework:</strong> NIST AI RMF
                        </div>
                        <div style="flex: 1;">
                            <strong>Granularity:</strong> Category
                        </div>
                        <div style="flex: 1;">
                            <strong>Answer Structure:</strong> Single Score
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-error">● 1 - Not Implemented</span>
                            <span class="badge badge-warning">● 2 - Initial</span>
                            <span class="badge" style="background-color: rgba(251, 188, 9, 0.1); color: rgb(251, 188, 9);">● 3 - Partial</span>
                            <span class="badge" style="background-color: rgba(124, 208, 17, 0.1); color: rgb(124, 208, 17);">● 4 - Operational</span>
                            <span class="badge badge-success">● 5 - Fully Implemented</span>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="stat-card">
                            <div class="stat-card-title">Average Control Implementation</div>
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 12px; color: rgb(74, 85, 104); margin-bottom: 8px;">1</div>
                                </div>
                                <div style="position: relative; width: 120px; height: 120px;">
                                    <svg viewBox="0 0 120 120" style="transform: rotate(-90deg);">
                                        <circle cx="60" cy="60" r="50" fill="none" stroke="rgb(237, 242, 247)" stroke-width="12"/>
                                        <circle cx="60" cy="60" r="50" fill="none" stroke="rgb(255, 153, 0)" stroke-width="12" 
                                                stroke-dasharray="314" stroke-dashoffset="200" stroke-linecap="round"/>
                                    </svg>
                                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 32px; font-weight: 700; color: rgb(26, 32, 44);">1.74</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 12px; color: rgb(74, 85, 104); margin-bottom: 8px;">5</div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card-title">Controls Implementation Targets and Gaps</div>
                            <div style="display: flex; gap: 32px; margin-top: 16px;">
                                <div style="flex: 1; text-align: center;">
                                    <div style="font-size: 14px; color: rgb(74, 85, 104); margin-bottom: 12px;">% of Targets Defined</div>
                                    <div class="circle-progress" style="margin: 0 auto; background: conic-gradient(rgb(85, 81, 247) 360deg, rgb(237, 242, 247) 0deg);">
                                        <div class="circle-progress-inner">100%</div>
                                    </div>
                                </div>
                                <div style="flex: 1;">
                                    <div style="font-size: 14px; color: rgb(74, 85, 104); margin-bottom: 12px;">Current vs. Target</div>
                                    <div style="margin-top: 24px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                <div style="width: 80px; height: 6px; background-color: rgb(13, 199, 131); border-radius: 3px;"></div>
                                                <span style="font-size: 14px; font-weight: 600;">1.74</span>
                                            </div>
                                            <span style="font-size: 12px; color: rgb(74, 85, 104);">/ 2.05</span>
                                        </div>
                                        <div style="margin-top: 8px; color: rgb(13, 199, 131); font-size: 14px; font-weight: 600;">15% gap ◆</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="stat-card">
                            <div class="stat-card-title">Implementation and Targets By Function</div>
                            <div style="margin-top: 16px; display: flex; justify-content: center; align-items: center;">
                                <svg viewBox="0 0 600 600" style="width: 100%; max-width: 500px; height: 500px;">
                                    <defs>
                                        <filter id="shadow">
                                            <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.1"/>
                                        </filter>
                                    </defs>
                                    
                                    <!-- Grid circles -->
                                    <circle cx="300" cy="300" r="220" fill="none" stroke="rgb(220, 229, 242)" stroke-width="1" opacity="0.3"/>
                                    <circle cx="300" cy="300" r="176" fill="none" stroke="rgb(220, 229, 242)" stroke-width="1" opacity="0.3"/>
                                    <circle cx="300" cy="300" r="132" fill="none" stroke="rgb(220, 229, 242)" stroke-width="1" opacity="0.3"/>
                                    <circle cx="300" cy="300" r="88" fill="none" stroke="rgb(220, 229, 242)" stroke-width="1" opacity="0.3"/>
                                    <circle cx="300" cy="300" r="44" fill="none" stroke="rgb(220, 229, 242)" stroke-width="1" opacity="0.3"/>
                                    
                                    <!-- 19 Axis lines evenly distributed around the circle -->
                                    <g id="axes">
                                        <line x1="300" y1="300" x2="300" y2="80" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="372" y2="95" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="431" y2="135" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="469" y2="198" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="483" y2="270" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="469" y2="342" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="431" y2="405" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="372" y2="445" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="300" y2="520" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="228" y2="505" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="169" y2="465" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="131" y2="402" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="117" y2="330" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="131" y2="258" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="169" y2="195" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="228" y2="155" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="300" y2="135" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="355" y2="145" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                        <line x1="300" y1="300" x2="403" y2="178" stroke="rgb(220, 229, 242)" stroke-width="1"/>
                                    </g>
                                    
                                    <!-- Current implementation polygon (purple/blue - actual values from heatmap) -->
                                    <!-- Using sample data: GOVERN avg ~2, MANAGE avg ~1.5, MAP avg ~2, MEASURE avg ~1.5 -->
                                    <!-- Convert score of 1-5 to radius: 1=88px, 2=132px, 3=176px, 4=220px, 5=264px -->
                                    <polygon points="300,212 344,222 389,244 413,276 421,318 413,360 389,392 344,414 300,432 264,420 231,394 207,362 199,330 207,298 231,266 264,244 300,234 327,246 358,264" 
                                             fill="rgba(85, 81, 247, 0.15)" 
                                             stroke="rgb(85, 81, 247)" 
                                             stroke-width="2.5"/>
                                    
                                    <!-- Data points on current polygon (purple dots) -->
                                    <circle cx="300" cy="212" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="344" cy="222" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="389" cy="244" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="413" cy="276" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="421" cy="318" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="413" cy="360" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="389" cy="392" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="344" cy="414" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="300" cy="432" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="264" cy="420" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="231" cy="394" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="207" cy="362" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="199" cy="330" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="207" cy="298" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="231" cy="266" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="264" cy="244" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="300" cy="234" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="327" cy="246" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    <circle cx="358" cy="264" r="6" fill="rgb(85, 81, 247)" stroke="white" stroke-width="2"/>
                                    
                                    <!-- Target polygon (green - slightly larger/outer) -->
                                    <polygon points="300,168 372,185 431,225 469,278 483,330 469,382 431,435 372,475 300,492 228,475 169,435 131,382 117,330 131,278 169,225 228,185 300,201 355,218 403,242" 
                                             fill="none" 
                                             stroke="rgb(13, 199, 131)" 
                                             stroke-width="2"
                                             stroke-dasharray="8,4"/>
                                    
                                    <!-- Labels for all 19 sub-categories at same radius -->
                                    <text x="300" y="70" text-anchor="middle" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">GOVERN-1</text>
                                    <text x="380" y="85" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">GOVERN-2</text>
                                    <text x="445" y="125" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">GOVERN-3</text>
                                    <text x="485" y="188" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">GOVERN-4</text>
                                    <text x="500" y="265" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">GOVERN-5</text>
                                    <text x="485" y="352" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">GOVERN-6</text>
                                    <text x="445" y="420" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MANAGE-1</text>
                                    <text x="380" y="460" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MANAGE-2</text>
                                    <text x="300" y="540" text-anchor="middle" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MANAGE-3</text>
                                    <text x="220" y="520" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MANAGE-4</text>
                                    <text x="155" y="480" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MAP-1</text>
                                    <text x="115" y="415" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MAP-2</text>
                                    <text x="100" y="340" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MAP-3</text>
                                    <text x="115" y="270" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MAP-4</text>
                                    <text x="155" y="185" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MAP-5</text>
                                    <text x="220" y="145" text-anchor="end" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MEASURE-1</text>
                                    <text x="300" y="125" text-anchor="middle" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MEASURE-2</text>
                                    <text x="363" y="135" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MEASURE-3</text>
                                    <text x="415" y="168" text-anchor="start" font-size="11" font-weight="600" fill="rgb(48, 48, 69)" font-family="Source Sans Pro">MEASURE-4</text>
                                </svg>
                            </div>
                            <div style="display: flex; gap: 24px; justify-content: center; margin-top: 16px;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 16px; height: 3px; background-color: rgb(85, 81, 247);"></div>
                                    <span style="font-size: 12px; color: rgb(74, 85, 104);">Current</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 16px; height: 3px; background-color: rgb(13, 199, 131); border-top: 2px dashed rgb(13, 199, 131);"></div>
                                    <span style="font-size: 12px; color: rgb(74, 85, 104);">Target</span>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card-title">Implementation Heatmap</div>
                            <div class="heatmap" style="margin-top: 16px;">
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">GOVERN-1</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">GOVERN-2</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">GOVERN-3</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">GOVERN-4</div>
                                    <div class="heatmap-cell-score">3.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">GOVERN-5</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">GOVERN-6</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(251, 188, 9);">
                                    <div class="heatmap-cell-label">MANAGE-1</div>
                                    <div class="heatmap-cell-score">3.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 35, 35);">
                                    <div class="heatmap-cell-label">MANAGE-2</div>
                                    <div class="heatmap-cell-score">1.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 35, 35);">
                                    <div class="heatmap-cell-label">MANAGE-3</div>
                                    <div class="heatmap-cell-score">1.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 35, 35);">
                                    <div class="heatmap-cell-label">MANAGE-4</div>
                                    <div class="heatmap-cell-score">1.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(251, 188, 9);">
                                    <div class="heatmap-cell-label">MAP-1</div>
                                    <div class="heatmap-cell-score">3.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">MAP-2</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">MAP-3</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">MAP-4</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">MAP-5</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 35, 35);">
                                    <div class="heatmap-cell-label">MEASURE-1</div>
                                    <div class="heatmap-cell-score">1.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(251, 188, 9);">
                                    <div class="heatmap-cell-label">MEASURE-2</div>
                                    <div class="heatmap-cell-score">3.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 35, 35);">
                                    <div class="heatmap-cell-label">MEASURE-3</div>
                                    <div class="heatmap-cell-score">1.00</div>
                                </div>
                                <div class="heatmap-cell" style="background-color: rgb(255, 153, 0);">
                                    <div class="heatmap-cell-label">MEASURE-4</div>
                                    <div class="heatmap-cell-score">2.00</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div style="font-size: 20px; font-weight: 600; color: rgb(26, 32, 44); margin-bottom: 16px;">Top Identified Gaps</div>
                        
                        <div style="border-left: 3px solid rgb(255, 153, 0); padding-left: 16px; margin-bottom: 16px;">
                            <div style="font-size: 16px; font-weight: 600; color: rgb(26, 32, 44);">GOVERN-1</div>
                            <div style="font-size: 14px; color: rgb(74, 85, 104); margin-top: 4px;">Mapping AI Systems and Use Cases</div>
                            <div style="display: flex; gap: 16px; align-items: center; margin-top: 12px;">
                                <div style="flex: 1;">
                                    <div class="progress-bar">
                                        <div class="progress-bar-fill" style="width: 67%; background-color: rgb(255, 153, 0);"></div>
                                    </div>
                                </div>
                                <span style="font-size: 14px; font-weight: 600;">2 / 3</span>
                                <span class="gap-indicator">33% gap ◆</span>
                            </div>
                        </div>

                        <div style="border-left: 3px solid rgb(255, 153, 0); padding-left: 16px; margin-bottom: 16px;">
                            <div style="font-size: 16px; font-weight: 600; color: rgb(26, 32, 44);">GOVERN-2</div>
                            <div style="font-size: 14px; color: rgb(74, 85, 104); margin-top: 4px;">Accountability for AI Risk Governance</div>
                            <div style="display: flex; gap: 16px; align-items: center; margin-top: 12px;">
                                <div style="flex: 1;">
                                    <div class="progress-bar">
                                        <div class="progress-bar-fill" style="width: 67%; background-color: rgb(255, 153, 0);"></div>
                                    </div>
                                </div>
                                <span style="font-size: 14px; font-weight: 600;">2 / 3</span>
                                <span class="gap-indicator">33% gap ◆</span>
                            </div>
                        </div>

                        <div style="border-left: 3px solid rgb(255, 153, 0); padding-left: 16px;">
                            <div style="font-size: 16px; font-weight: 600; color: rgb(26, 32, 44);">GOVERN-3</div>
                            <div style="font-size: 14px; color: rgb(74, 85, 104); margin-top: 4px;">Mapping AI Systems and Use Cases</div>
                            <div style="display: flex; gap: 16px; align-items: center; margin-top: 12px;">
                                <div style="flex: 1;">
                                    <div class="progress-bar">
                                        <div class="progress-bar-fill" style="width: 67%; background-color: rgb(255, 153, 0);"></div>
                                    </div>
                                </div>
                                <span style="font-size: 14px; font-weight: 600;">2 / 3</span>
                                <span class="gap-indicator">33% gap ◆</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page: Questionnaire -->
            <div id="questionnairePage" class="page-view">
                <div style="display: flex; flex: 1;">
                    <!-- Sidebar -->
                    <div class="sidebar">
                        <div class="sidebar-section">
                            <div style="font-size: 16px; font-weight: 700; color: rgb(26, 32, 44); margin-bottom: 8px;">Framework</div>
                            <div style="padding: 12px; background-color: rgb(236, 242, 252); border-radius: 6px; margin-bottom: 16px;">
                                <div style="font-size: 14px; font-weight: 600; color: rgb(85, 81, 247);">NIST AI RMF</div>
                            </div>

                            <div style="font-size: 14px; font-weight: 600; color: rgb(26, 32, 44); margin-bottom: 8px;">Granularity</div>
                            <div style="padding: 8px; background-color: rgb(236, 242, 252); border-radius: 6px; margin-bottom: 16px;">
                                <div style="font-size: 13px; color: rgb(85, 81, 247);">Question</div>
                            </div>

                            <div style="font-size: 14px; font-weight: 600; color: rgb(26, 32, 44); margin-bottom: 8px;">Answer Structure</div>
                            <div style="padding: 8px; background-color: rgb(236, 242, 252); border-radius: 6px; margin-bottom: 16px;">
                                <div style="font-size: 13px; color: rgb(85, 81, 247);">Single Score</div>
                            </div>

                            <div style="border-top: 1px solid rgb(220, 229, 242); padding-top: 16px; margin-top: 16px;">
                                <div class="sidebar-title">Scale:</div>
                                <div style="font-size: 10px; color: rgb(74, 85, 104); line-height: 1.6;">
                                    1 - Not Implemented<br>
                                    2 - Basic<br>
                                    3 - Partial<br>
                                    4 - Operational<br>
                                    5 - Fully Implemented
                                </div>
                            </div>
                        </div>

                        <div class="sidebar-section">
                            <div class="sidebar-title">Assessment Progress</div>
                            <div style="font-size: 20px; font-weight: 700; color: rgb(26, 32, 44); margin-bottom: 8px;">0%</div>

                            <div class="sidebar-item active">
                                <span>Govern</span>
                                <span style="font-size: 12px;">0/19</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>GOVERN-1</span>
                                <span style="font-size: 12px;">0/7</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.4</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.5</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.6</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 1.7</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>GOVERN-2</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 2.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 2.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 2.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>GOVERN-3</span>
                                <span style="font-size: 12px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 3.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 3.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>GOVERN-4</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 4.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 4.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 4.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>GOVERN-5</span>
                                <span style="font-size: 12px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 5.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 5.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>GOVERN-6</span>
                                <span style="font-size: 12px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 6.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>GOVERN 6.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>

                            <div class="sidebar-item">
                                <span>Manage</span>
                                <span style="font-size: 12px;">0/13</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MANAGE-1</span>
                                <span style="font-size: 12px;">0/4</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 1.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 1.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 1.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 1.4</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MANAGE-2</span>
                                <span style="font-size: 12px;">0/4</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 2.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 2.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 2.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 2.4</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MANAGE-3</span>
                                <span style="font-size: 12px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 3.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 3.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MANAGE-4</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 4.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 4.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MANAGE 4.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>

                            <div class="sidebar-item">
                                <span>Map</span>
                                <span style="font-size: 12px;">0/18</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MAP-1</span>
                                <span style="font-size: 12px;">0/6</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 1.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 1.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 1.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 1.4</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 1.5</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 1.6</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MAP-2</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 2.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 2.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 2.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MAP-3</span>
                                <span style="font-size: 12px;">0/5</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 3.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 3.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 3.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 3.4</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 3.5</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MAP-4</span>
                                <span style="font-size: 12px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 4.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 4.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MAP-5</span>
                                <span style="font-size: 12px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 5.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MAP 5.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>

                            <div class="sidebar-item">
                                <span>Measure</span>
                                <span style="font-size: 12px;">0/22</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MEASURE-1</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 1.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 1.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 1.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MEASURE-2</span>
                                <span style="font-size: 12px;">0/13</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.4</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.5</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.6</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.7</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.8</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.9</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.10</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.11</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.12</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 2.13</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MEASURE-3</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 3.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 3.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 3.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 24px;">
                                <span>MEASURE-4</span>
                                <span style="font-size: 12px;">0/3</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 4.1</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 4.2</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                            <div class="sidebar-item" style="padding-left: 36px; font-size: 13px;">
                                <span>MEASURE 4.3</span>
                                <span style="font-size: 11px;">0/2</span>
                            </div>
                        </div>
                    </div>

                    <!-- Main Question Area -->
                    <div class="main-content">
                        <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px;">
                            <button class="btn btn-secondary" onclick="showPage('assessmentList')">← Back</button>
                            <button class="btn btn-secondary">Contact Us</button>
                            <button class="btn btn-primary" style="margin-left: auto;">Quit & Continue Later</button>
                        </div>

                        <div class="question-container">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                                <div style="flex: 1;">
                                    <div style="font-size: 14px; font-weight: 600; color: rgb(85, 81, 247); margin-bottom: 8px;">GOVERN 1.1 → GOVERN 1.1-a</div>
                                    <h2 class="question-header">GOVERN 1.1</h2>
                                    <p class="question-description">Legal and regulatory requirements involving AI are understood, managed, and documented.</p>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: rgb(74, 85, 104); margin-bottom: 4px;">Owner:</div>
                                    <select class="form-select" style="width: 200px;">
                                        <option>Select owner</option>
                                        <option>or@kovrr.com</option>
                                        <option>yakir@kovrr.com</option>
                                        <option>shai@kovrr.com</option>
                                        <option>liran@kovrr.com</option>
                                        <option>liraz@kovrr.com</option>
                                    </select>
                                </div>
                            </div>

                            <div style="border-top: 1px solid rgb(220, 229, 242); padding-top: 20px;">
                                <div style="font-size: 16px; font-weight: 600; color: rgb(26, 32, 44); margin-bottom: 12px;">GOVERN 1.1-a</div>
                                <p style="font-size: 14px; color: rgb(74, 85, 104); line-height: 1.6; margin-bottom: 24px;">
                                    Do you maintain documented policies and procedures that set decision gates and escalation triggers for disproportionately, nondiscrimination, discrimination, with an accountable owner identified and a defined review cadence?
                                </p>

                                <div class="answer-section">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                        <div style="width: 8px; height: 8px; border-radius: 50%; background-color: rgb(85, 81, 247);"></div>
                                        <div class="answer-section-title">Current</div>
                                    </div>
                                    <div class="rating-scale">
                                        <div class="rating-option">1</div>
                                        <div class="rating-option">2</div>
                                        <div class="rating-option">3</div>
                                        <div class="rating-option">4</div>
                                        <div class="rating-option">5</div>
                                    </div>
                                </div>

                                <div class="answer-section">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                        <div style="width: 8px; height: 8px; border-radius: 50%; background-color: rgb(13, 199, 131);"></div>
                                        <div class="answer-section-title">Target</div>
                                    </div>
                                    <div class="rating-scale">
                                        <div class="rating-option">1</div>
                                        <div class="rating-option">2</div>
                                        <div class="rating-option">3</div>
                                        <div class="rating-option">4</div>
                                        <div class="rating-option">5</div>
                                    </div>
                                </div>

                                <label class="checkbox-label">
                                    <input type="checkbox" class="checkbox-input">
                                    <span>Inapplicable</span>
                                </label>

                                <div class="notes-section">
                                    <label class="form-label">Notes</label>
                                    <div style="position: relative;">
                                        <textarea class="textarea" placeholder="Add a note..."></textarea>
                                        <button class="btn btn-primary" style="position: absolute; bottom: 12px; right: 12px; padding: 6px 12px; font-size: 12px;">Add Note</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="display: flex; gap: 12px; justify-content: flex-end;">
                            <button class="btn btn-secondary" onclick="previousQuestion()">← Previous</button>
                            <button class="btn btn-primary" onclick="nextQuestion()">Next →</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: New Assessment -->
    <div id="newAssessmentModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <span>New Control Assessment</span>
                <button onclick="hideModal('newAssessmentModal')" style="background: none; border: none; font-size: 24px; color: rgb(113, 118, 126); cursor: pointer; padding: 0; line-height: 1; transition: color 0.2s;" onmouseover="this.style.color='rgb(26, 32, 44)'" onmouseout="this.style.color='rgb(113, 118, 126)'">×</button>
            </div>
            <div class="modal-subtitle">Customize your control evaluation based on your preferred cybersecurity framework and assessment style</div>

            <div class="form-group">
                <label class="form-label">Control Assessment Information</label>
                <div style="margin-top: 8px;">
                    <label class="form-label">Name:</label>
                    <input type="text" class="form-input" placeholder="Enter assessment name">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Company</label>
                <input type="text" class="form-input" placeholder="Enter company name">
            </div>

            <div class="form-group">
                <label class="form-label">Controls Framework</label>
                <select class="form-select" onchange="showFrameworkOptions()">
                    <option value="">Select a framework</option>
                    <option value="nist">NIST AI RMF</option>
                    <option value="eu">EU AI ACT</option>
                    <option value="iso">ISO/IEC 42001:2023</option>
                    <option value="colorado">Colorado Local Law No. SB21-169</option>
                    <option value="nyc">New York City Local Law No. 144</option>
                </select>
            </div>

            <div id="frameworkOptions" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Granularity Level</label>
                    <div class="option-cards">
                        <div class="option-card" onclick="selectCard(this)">
                            <div class="option-card-title">Category</div>
                            <div class="option-card-description">The highest-level grouping of controls. Selecting this granularity aggregates results at the category level.</div>
                            <div style="margin-top: 12px; font-size: 12px; color: rgb(74, 85, 104); font-style: italic;">
                                Summarise the assessment by category (e.g., Governance).
                            </div>
                        </div>
                        <div class="option-card" onclick="selectCard(this)">
                            <div class="option-card-title">Sub-category</div>
                            <div class="option-card-description">A more specific grouping beneath a category. Use this granularity to view results for individual sub-categories.</div>
                            <div style="margin-top: 12px; font-size: 12px; color: rgb(74, 85, 104); font-style: italic;">
                                Drill down to the Access Control sub-category within Governance.
                            </div>
                        </div>
                        <div class="option-card selected" onclick="selectCard(this)">
                            <div class="option-card-title">Question</div>
                            <div class="option-card-description">The most detailed level, showing each individual implementation question.</div>
                            <div style="margin-top: 12px; font-size: 12px; color: rgb(74, 85, 104); font-style: italic;">
                                List each question under the Access Control sub-category.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Scoring Scale</label>
                    <div class="option-cards">
                        <div class="option-card selected" onclick="selectCard(this)">
                            <div class="option-card-title">0 - 4</div>
                        </div>
                        <div class="option-card" onclick="selectCard(this)">
                            <div class="option-card-title">1 - 5</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Answer Structure</label>
                    <div class="option-cards">
                        <div class="option-card selected" onclick="selectCard(this)">
                            <div class="option-card-title">Single Score</div>
                            <div class="option-card-description">Provide a single score per question</div>
                        </div>
                        <div class="option-card" onclick="selectCard(this)">
                            <div class="option-card-title">Multi-Dimensional</div>
                            <div class="option-card-description">Score each question across multiple dimensions: Existence, Documentation, Enforcement, Coverage.</div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <div style="display: flex; align-items: start; gap: 8px;">
                        <span style="color: rgb(21, 77, 171); font-size: 16px;">ⓘ</span>
                        <div class="info-box-text">
                            <strong>Ready to start your assessment?</strong><br>
                            Once you select a framework above, you'll be able to configure the assessment settings.
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="hideModal('newAssessmentModal')">Contact Us</button>
                    <button class="btn btn-primary" onclick="startAssessment()">Start Assessment</button>
                </div>
            </div>
        </div>
    </div>

    <script src="nist_data.js"></script>
    <script>
        // Question data structure - Load from embedded NIST_DATA
        let questionData = {};
        let frameworkData = null;
        
        // Wait for DOM and load from NIST_DATA
        window.addEventListener('DOMContentLoaded', function() {
            if (typeof NIST_DATA !== 'undefined') {
                frameworkData = NIST_DATA;
                parseFrameworkData(NIST_DATA);
                console.log('Loaded', Object.keys(questionData).length, 'questions from NIST_DATA');
            } else {
                console.error('NIST_DATA not found. Make sure nist_data.js is loaded.');
            }
        });
        
        function parseFrameworkData(data) {
            // Recursive function to extract questions from the nested structure
            function extractQuestions(sections, parentPath = '') {
                sections.forEach(section => {
                    const currentPath = parentPath ? `${parentPath} → ${section.title}` : section.title;
                    
                    if (section.type === 'question' && section.questions && section.questions.length > 0) {
                        // Extract sub-questions
                        const subQuestions = section.questions.map(q => ({
                            id: q.id,
                            text: q.description
                        }));
                        
                        // Store question data
                        questionData[section.id] = {
                            path: currentPath,
                            title: section.title,
                            description: section.description,
                            subQuestions: subQuestions
                        };
                    }
                    
                    // Recursively process nested sections
                    if (section.sections && section.sections.length > 0) {
                        extractQuestions(section.sections, currentPath);
                    }
                });
            }
            
            if (data.sections) {
                extractQuestions(data.sections);
            }
        }
        let currentQuestionIndex = 0;
        // Complete list of all question IDs
        const allQuestionIds = [
            'GOVERN 1.1', 'GOVERN 1.2', 'GOVERN 1.3', 'GOVERN 1.4', 'GOVERN 1.5', 'GOVERN 1.6', 'GOVERN 1.7',
            'GOVERN 2.1', 'GOVERN 2.2', 'GOVERN 2.3',
            'GOVERN 3.1', 'GOVERN 3.2',
            'GOVERN 4.1', 'GOVERN 4.2', 'GOVERN 4.3',
            'GOVERN 5.1', 'GOVERN 5.2',
            'GOVERN 6.1', 'GOVERN 6.2',
            'MANAGE 1.1', 'MANAGE 1.2', 'MANAGE 1.3', 'MANAGE 1.4',
            'MANAGE 2.1', 'MANAGE 2.2', 'MANAGE 2.3', 'MANAGE 2.4',
            'MANAGE 3.1', 'MANAGE 3.2',
            'MANAGE 4.1', 'MANAGE 4.2', 'MANAGE 4.3',
            'MAP 1.1', 'MAP 1.2', 'MAP 1.3', 'MAP 1.4', 'MAP 1.5', 'MAP 1.6',
            'MAP 2.1', 'MAP 2.2', 'MAP 2.3',
            'MAP 3.1', 'MAP 3.2', 'MAP 3.3', 'MAP 3.4', 'MAP 3.5',
            'MAP 4.1', 'MAP 4.2',
            'MAP 5.1', 'MAP 5.2',
            'MEASURE 1.1', 'MEASURE 1.2', 'MEASURE 1.3',
            'MEASURE 2.1', 'MEASURE 2.2', 'MEASURE 2.3', 'MEASURE 2.4', 'MEASURE 2.5', 'MEASURE 2.6', 'MEASURE 2.7', 'MEASURE 2.8', 'MEASURE 2.9', 'MEASURE 2.10', 'MEASURE 2.11', 'MEASURE 2.12', 'MEASURE 2.13',
            'MEASURE 3.1', 'MEASURE 3.2', 'MEASURE 3.3',
            'MEASURE 4.1', 'MEASURE 4.2', 'MEASURE 4.3'
        ];
        
        function initializeQuestionIds() {
            // Not needed anymore - we have hardcoded list
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        function showPage(pageId) {
            document.querySelectorAll('.page-view').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        function selectCard(card) {
            const parent = card.parentElement;
            parent.querySelectorAll('.option-card').forEach(c => {
                c.classList.remove('selected');
            });
            card.classList.add('selected');
        }

        function showFrameworkOptions() {
            const select = event.target;
            if (select.value) {
                document.getElementById('frameworkOptions').style.display = 'block';
            }
        }

        function startAssessment() {
            hideModal('newAssessmentModal');
            showPage('questionnairePage');
        }

        function loadQuestion(questionId) {
            let question = questionData[questionId];
            
            // If question data doesn't exist, generate placeholder
            if (!question) {
                // Parse the question ID to generate path
                const parts = questionId.split(' ');
                const category = parts[0]; // GOVERN, MANAGE, MAP, MEASURE
                const subNum = parts[1].split('.')[0]; // 1, 2, 3, etc.
                const catFullName = category.charAt(0) + category.slice(1).toLowerCase(); // Govern, Manage, Map, Measure
                
                question = {
                    path: `${catFullName} → ${category}-${subNum} → ${questionId}`,
                    title: questionId,
                    description: `${questionId} control objectives and requirements.`,
                    subQuestions: [
                        {
                            id: `${questionId}-a`,
                            text: `Do you have documented policies and procedures for ${questionId} with designated ownership and periodic review?`
                        },
                        {
                            id: `${questionId}-b`,
                            text: `In the last 12 months, have you executed monitoring and verification activities for ${questionId} with documented evidence and metrics?`
                        }
                    ]
                };
            }

            // Update the main content area
            const questionContainer = document.querySelector('#questionnairePage .question-container');
            
            // Build HTML for both sub-questions
            let subQuestionsHTML = '';
            question.subQuestions.forEach((subQ, index) => {
                subQuestionsHTML += `
                    <div style="border-top: 1px solid rgb(220, 229, 242); padding-top: 20px; ${index > 0 ? 'margin-top: 32px;' : ''}">
                        <div style="font-size: 16px; font-weight: 600; color: rgb(26, 32, 44); margin-bottom: 12px;">${subQ.id}</div>
                        <p style="font-size: 14px; color: rgb(74, 85, 104); line-height: 1.6; margin-bottom: 24px;">
                            ${subQ.text}
                        </p>

                        <div class="answer-section">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <div style="width: 8px; height: 8px; border-radius: 50%; background-color: rgb(85, 81, 247);"></div>
                                <div class="answer-section-title">Current</div>
                            </div>
                            <div class="rating-scale">
                                <div class="rating-option" onclick="selectRating(this)">1</div>
                                <div class="rating-option" onclick="selectRating(this)">2</div>
                                <div class="rating-option" onclick="selectRating(this)">3</div>
                                <div class="rating-option" onclick="selectRating(this)">4</div>
                                <div class="rating-option" onclick="selectRating(this)">5</div>
                            </div>
                        </div>

                        <div class="answer-section">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <div style="width: 8px; height: 8px; border-radius: 50%; background-color: rgb(13, 199, 131);"></div>
                                <div class="answer-section-title">Target</div>
                            </div>
                            <div class="rating-scale">
                                <div class="rating-option" onclick="selectRating(this)">1</div>
                                <div class="rating-option" onclick="selectRating(this)">2</div>
                                <div class="rating-option" onclick="selectRating(this)">3</div>
                                <div class="rating-option" onclick="selectRating(this)">4</div>
                                <div class="rating-option" onclick="selectRating(this)">5</div>
                            </div>
                        </div>

                        <label class="checkbox-label">
                            <input type="checkbox" class="checkbox-input">
                            <span>Inapplicable</span>
                        </label>

                        <div class="notes-section">
                            <label class="form-label">Notes</label>
                            <div style="position: relative;">
                                <textarea class="textarea" placeholder="Add a note..."></textarea>
                                <button class="btn btn-primary" style="position: absolute; bottom: 12px; right: 12px; padding: 6px 12px; font-size: 12px;">Add Note</button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            questionContainer.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                    <div style="flex: 1;">
                        <div style="font-size: 14px; font-weight: 600; color: rgb(85, 81, 247); margin-bottom: 8px;">${question.path}</div>
                        <h2 class="question-header">${question.title}</h2>
                        <p class="question-description">${question.description}</p>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 12px; color: rgb(74, 85, 104); margin-bottom: 4px;">Owner:</div>
                        <select class="form-select" style="width: 200px;">
                            <option>Select owner</option>
                            <option>or@kovrr.com</option>
                            <option>yakir@kovrr.com</option>
                            <option>shai@kovrr.com</option>
                            <option>liran@kovrr.com</option>
                            <option>liraz@kovrr.com</option>
                        </select>
                    </div>
                </div>

                ${subQuestionsHTML}
            `;

            // Update active state in sidebar
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            const sidebarItem = Array.from(document.querySelectorAll('.sidebar-item')).find(
                item => item.textContent.trim().startsWith(questionId)
            );
            if (sidebarItem) {
                sidebarItem.classList.add('active');
                sidebarItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            // Update current question index
            currentQuestionIndex = allQuestionIds.indexOf(questionId);
        }

        function selectRating(element) {
            const parent = element.parentElement;
            parent.querySelectorAll('.rating-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        function nextQuestion() {
            if (currentQuestionIndex < allQuestionIds.length - 1) {
                currentQuestionIndex++;
                loadQuestion(allQuestionIds[currentQuestionIndex]);
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(allQuestionIds[currentQuestionIndex]);
            }
        }

        // Add click handlers for sidebar items
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the question IDs list
            initializeQuestionIds();
            
            // Make all question items (level 2 - individual questions) clickable
            document.querySelectorAll('.sidebar-item').forEach(item => {
                const text = item.querySelector('span')?.textContent.trim();
                // Match pattern like "GOVERN 1.1", "MANAGE 2.3", "MAP 3.5", "MEASURE 4.2"
                if (text && (
                    text.match(/^GOVERN \d+\.\d+$/) || 
                    text.match(/^MANAGE \d+\.\d+$/) || 
                    text.match(/^MAP \d+\.\d+$/) || 
                    text.match(/^MEASURE \d+\.\d+$/)
                )) {
                    item.classList.add('clickable-question');
                    item.addEventListener('click', function() {
                        loadQuestion(text);
                    });
                }
            });
        });
    </script>
</body>
</html>